{"title":"Lesson 3: Build  üìñ a Basic Site","markdown":{"yaml":{"title":"Lesson 3: Build  üìñ a Basic Site","author":"Jarrod J Scott","description":"In this lesson we go through the steps for creating your first site. We cover the three building blocks of the web (HTML, CSS, JS), generate a basic site with Distill, and discuss the rendering process.\n","date":"2024-01-03","categories":["news","code","analysis"],"image":"files/feature.png","repository_url":"https://github.com/stri-mcgill-neo/2024/","reading-time":true,"knitr":{"opts_chunk":{"echo":true,"eval":false,"message":false,"warning":false}},"filters":["lightbox"],"lightbox":{"match":"auto","effect":"fade","desc-position":"right","loop":false},"draft":true},"headingText":"Learning Objectives","containsRefs":false,"markdown":"\n\n```{r}\n#| label: load\n#| eval: true\n#| echo: false\n\nis_html = knitr::is_html_output()\npacman::p_load(tidyverse, fontawesome, slickR, downlit, here,\n               install = FALSE, update = FALSE)\n\nhere::i_am(\"assets/scripts/functions.R\")\nsource(here(\"assets/scripts/functions.R\"))\n```\n\n\nIn this lesson, you will create your first site. Remember, you have the choice of a [Distill website](https://rstudio.github.io/distill/website.html) or a [Distill blog](https://rstudio.github.io/distill/blog.html). Since the structure of a Distill website is a bit simpler we will start there. This lesson is designed to lay down the conceptual and mechanical framework you need to get started. Your job is to understand this material because it is the basis for everything that comes after. If you do not understand something, please ask. Chances are pretty good that you are not alone.\n\n::: aside\nEstimated reading time: `r round(reading_time(), digits = 0)` minute(s).\n:::\n\n> If you have not already done so, please read the short post on [Naming Things](../2024-04-21-naming-things/index.html) in the Tip n' Tricks section before getting started.\n\n# Three Core Languages\n\nThe three core technologies, or building blocks, of web pages are HTML, CSS, and JS. Let's briefly discuss each to get a better idea of what they do. Do not worry---you are not required to write code in HTML, CSS, or JS but even a basic understanding of these languages will allow you to perform more advanced customization of your site. Let's look at a little toy exercise to demonstrate the functionality of each language. How about we create a level 3 header and a button.\n\n## HTML\n\nHTML, or [**H**yper **T**ext **M**arkup **L**anguage](https://developer.mozilla.org/en-US/docs/Web/HTML) provides the **basic type, format, structure, and makeup** of a web page or site. It is the standard markup language^[Markup language is a computer language that uses tags to define elements within a document. It is human-readable, meaning markup files contain standard words, rather than typical programming syntax.] for documents displayed in web browsers. HTML lets you structure a page into elements---paragraphs, sections, headings, navigation bars, and so on. HTML elements are delineated by *tags*, written using angle brackets. To display the level 2 header and button we code it like so:\n\n```{verbatim}\n<h2>The Button element</h2>\n<button type=\"button\">Click Me, I'm a button!</button>\n```\n\nAnd here is what it looks like on our pretend page after the code is rendered. Neat.\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 style=\"font-family:Times;\">The Button Element</h2>\n<button type=\"button\">Click Me, I'm a button!</button>\n</span>\n</div>\n\n## CSS\n\nCSS, or [**C**ascading **S**tyle **S**heets](https://developer.mozilla.org/en-US/docs/Web/CSS), is a style sheet language ^[A style sheet language is a computer language that expresses the presentation of structured documents.] used to **control presentation, formatting, and layout** of a document written in a markup language, like HTML. . Now let's say we wanted to *style* the header and button elements created above. OK, how about we modify the header to be center aligned, uppercase, and blue. While we're at it, we can also change the look of the button. How about we make the button blue and rounded, set the font larger and white, and increase the left margin and padding.\n\nTo accomplish this, we add the following code to our stylesheet ^[There are three ways you implement CSS into your HTML: internal, external, and inline styles. Internal or embedded CSS requires you to add \\<style\\> tag in the \\<head\\> section of your HTML document. With external CSS, you'll link your web pages to an external `.css` file, which can be created by any text editor in your device. Inline CSS is used to style a specific HTML element. For this CSS style, you'll only need to add the style attribute to each HTML tag, without using selectors. I mainly use an external CSS for styling. For example, here is the [CSS file for our site](https://github.com/stri-mcgill-neo/2024/blob/main/assets/css/styles.css)]:\n\n\n```{css}\nh2 {\n  text-align: center;\n  text-transform: uppercase;\n  color: #004276;\n  font-family: 'Open Sans';\n}\n\nbutton {\n  color: #FFFFFF;\n  background-color: #004276;\n  font-size: 1.1em; \n  margin-left: 2em;\n  padding: 0.5em;\n  border-radius: 30px;\n}\n```\n\nAnd now we get CSS-styled header and button. Again, neat but the button still doesn't do anything useful.\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 style=\"text-align:center;text-transform:uppercase;color:#004276;font-family:Open Sans;\">\nThe Button Element\n</h2>\n<button type=\"button\" style=\"color:#FFFFFF;background-color:#004276;font-size: 1.1em;margin-left:2em;padding:0.5em;border-radius: 30px;\">\nClick Me, I'm a button!\n</button>\n</span>\n</div>\n\n</br>\n\nNow that we have a styled button, let's see if we can get it to do something useful. For this we can use a little JavaScript in our code.\n\n## JS\n\nJS, or [**J**ava**S**cript](https://developer.mozilla.org/en-US/docs/Web/JavaScript), is a programming language used to **control the behavior of different elements**. JS is used to for interactive web applications---powering features like interactive images, carousels, and forms. What if we wanted to create a button that did something useful when we clicked it? Perhaps displaying the date and time would be nice? Returning to our original HTML, we add the `onclick` option and a JS function that gets the current date and time.\n\n```{verbatim}\n<!-- Original Code -->\n<button type=\"button\">Click Me, I'm a button!</button>\n```\n\n...to this.\n\n```{verbatim}\n<!-- Modified with JS function -->\n<button type=\"button\" onclick=\"document.getElementById('demo').innerHTML = Date()\"></button>\n```\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 onclick=\"myFunction(this, 'red')\" style='text-align:center;text-transform:uppercase;color:#004276;font-family:Open Sans;'>The Button Element</h2>\n<button type=\"button\" \nstyle=\"color:#FFFFFF;background-color:#004276;font-size: 1.1em;margin-left:2em;padding:0.5em;border-radius: 30px;\" \nonclick=\"getElementById('demo').innerHTML = Date()\">Click to display Date and Time.</button>\n<p id=\"demo\"></p>\n</span>\n</div>\n    \n</br>\n\nSo that's it in a nutshell. We began with a basic header and button coded in HTML, then styled both elements using CSS, and finally added some interactive functionality with JS. The beauty of writing your documents in (R) Markdown and using a framework like Distill is that a lot of this coding is already done for you. As you will learn, the Markdown text and code you write is translated into HTML. Frameworks like Distill offer pre-packaged HTML templates, the content of which is styled with [built-in CSS](https://rstudio.github.io/distill/website.html#theming). Distill also provides a [variety of ways](https://rstudio.github.io/distill/interactivity.html) to add interactive JavaScript visualizations to your pages, including pre-built [htmlwidgets](http://www.htmlwidgets.org/) that wrap JavaScript visualization libraries like [Leaflet](http://rstudio.github.io/leaflet/), [Plotly](https://plot.ly/r/), [dygraphs](http://rstudio.github.io/dygraphs/), [r2D3](https://rstudio.github.io/r2d3/), and [threejs](https://bwlewis.github.io/rthreejs/). I know I sound like a broken record, but we will cover topics like theming and interactive graphics in subsequent lessons.\n\n### [{{< fa book-open >}}]{style=\"color: steelblue;\"}  Further Reading\n\nIf you are interested in developing your HTML and CSS skills I highly recommend [Interneting is hard (But it doesn't have to be)](https://www.internetingishard.com/), a comprehensive HTML/CSS curriculum created by Oliver James.\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-align: center\n#| fig-link: https://www.internetingishard.com/\nknitr::include_graphics(\"files/internetingishard.png\")\n```\n\nI have not really learned how to code in JS yet, so I cannot really suggest any tutorials/courses but for some inspiration, check out the awesome interactive graphics in the [htmlwidgets R gallery](http://gallery.htmlwidgets.org/).\n\n# Build a Distill Website\n\nLet's go through a quick demo on creating a Distill website. Here we go through the process step-by-step. If you prefer a graphical representation instead, scroll down a little to see images of this process.\n\n## Written recipe\n\n-   **Step 1**: Open RStudio and go to the `File` menu and select `New Project`. A window called `New Project Wizard` will pop up. Select `New Directory`.\n-   **Step 2**: Under `Project Type` scroll down until you see `Distill Website`. Hit the arrow on the right.\n-   **Step 3**: Fill in the part that says `Directory Name`. In this example I simply call it `distill_website.` Also, under `Create project as subdirectory of:` select a path to write the project. You can ignore the rest for now.\n-   **Step 4**: Boom! Site created. You should see three files in your RStudio IDE---`index.Rmd`, `about.Rmd`, and `_site.yml`. We will go through the details in a minute, but in a nutshell:\n\n| **File type** | **Description**             |\n|---------------|-----------------------------|\n| `_site.yml`   | Website configuration file. |\n| `index.Rmd`   | Website home page.          |\n| `about.Rmd`   | Website about page.         |\n\n: Files created by Distill that should show up in the RStudio IDE.\n\n-   **Step 5**: Navigate to your project directory. Notice that in addition to the three files we saw in Step 4 there is also a `_site/` directory and a `.Rproj` file^[This file contains various project options and can also be used as a shortcut for opening the project directly from the filesystem.]. Open the `_site/` directory and double-click `index.html` to open. This is your new homepage.\n\n------------------------------------------------------------------------\n\n## Visual recipe\n\nThe same steps described above---in graphical format ^[This image carousel was created using the [slickR](https://github.com/yonicd/slickR) package. slickR is a great option for displaying graphics like figures and images. We will cover slickR in a future lesson.].\n\n```{r}\n#| eval: true\n#| echo: false\n\nlibrary(magrittr)\ntmp_list <- list.files(\"files/\", pattern = \"step_\")\ntmp_list <- tmp_list %>% stringr::str_replace(\".png\", \"\")\n\ntest <- tidyr::as_tibble(tmp_list)\ntest$path <- test$value\n\ntest$path <- gsub(\"^\", \"files/\", test$path)\ntest$path <- gsub(\"$\", \".png\", test$path)\ntest$info <- \"\"\n## To add random text for captions\n#for (i in 1:nrow(test)) {\n#  test$info[i] <- stringi::stri_rand_lipsum(1, start_lipsum = FALSE)\n#  test$info[i] <- stringr::str_sub(test$info[i], start = 1, end = 400)\n#}\n#stringi::stri_rand_strings(10, 4, pattern = \"[A-Za-z0-9]\")\n\n```\n\n```{r}\n#| eval: true\n#| echo: false\ntest$info[1] <- \"Step 1: Open RStudio and go to the File menu and select New Project. A window called New Project Wizard will pop up. Select New Directory. Proceed to Step 2.\"\ntest$info[2] <- \"Step 2: Under Project Type scroll down until you see Distill Website. Hit the arrow on the right. Proceed to Step 3.\"\ntest$info[3] <- \"Step 3: Fill in the part that says Directory Name. In this example I simply call it distill_website. Also, under Create project as subdirectory of: select a path to write the project. You can ignore the rest for now. Proceed to Step 4.\"\ntest$info[4] <- \"Step 4: Boom! Site created. You should see three files in your RStudio IDE---index.Rmd, about.Rmd, and _site.yml. We will go through each of these in a minute. For now proceed to Step 5.\"\ntest$info[5] <- \"Step 5: Navigate to your project directory. Notice that in addition to the three files we saw in Step 4 there is also a _site/ directory and a .Rproj file. Open the _site/ and double-click index.html to open. Here is your new homepage.\"\n```\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-height: 6\nrequire(slickR)\n(slickR(obj = test$path, height = 500, width = \"90%\", objLinks = NULL) + \n  slickR::settings(focusOnSelect = TRUE)) %synch% \n  (slickR(test$info, slideType = 'p') + \n     slickR::settings(arrows = FALSE, adaptiveHeight = FALSE, dots = TRUE)\n   )\n\n#for(carimage in test$path) {\n#  file.copy(carimage, \"../../../public_build/docs/lessons/lesson-3-build-a-basic-site/files/\")\n#}\n```\n\n------------------------------------------------------------------------\n\nSo this site would have two pages---the landing page (`index.Rmd`) and a sub page called About (`about.Rmd`). Let's say the root URL for this site is `https://example.io/`. If you were to navigate to this URL you would see the content of `index.Rmd`, the homepage. To access the About page you would need to go to `https://example.io/about.html`. Notice the homepage does not require any special extension but any sub pages do, like `.../about.html`.\n\n# A Closer Look\n\nNow that we have a basic Distill site, let's take a closer look at the primary files generated when we created the site. All R Markdown websites, at a minimum, **must** have: \n\n-    a file called `_site.yml`, which provides the global YAML^[YAML is a human-readable markup language. With it, you can create easily readable documents that can be consumed by a variety of programming languages.] header for the site.  \n-    a `.Rmd` file named `index.Rmd`, which provides the content for the home page of the website.\n\nOther things, like `about.Rmd` or custom CSS or whatever, are optional.\n\n## _site.yml\n\nThe `_site.yml`, written in [YAML](https://en.wikipedia.org/wiki/YAML), instructs the R Markdown site generator (in this case Distill) how to build the site---it contains default **metadata that is applied to all `.Rmd` files**  on the site. These metadata include the base URL and title, the position and content of the navigation bar, controls for the table of contents, etc. In the site you just created, the YAML file should look like this.\n\n```{verbatim}\n---\nname: \"distill_website\"\ntitle: \"My Website\"\ndescription: |\n  My Website\noutput_dir: \"_site\"\nnavbar:\n  right:\n    - text: \"Home\"\n      href: index.html\n    - text: \"About\"\n      href: about.html\noutput: distill::distill_article\n---\n```\n\nIf for example, you want to add a table of contents to every page on your site, you can just add the `toc` option to `_site.yml`, which will apply this option globally. YAML files are quite customizable but some settings are document and/or framework specific so you need to play around with the options if you want to change something. To see some of the options you can run the following in the Console of RStudio.\n\n```{r}\n#| echo: true\n?rmarkdown::html_document\n```\n\n> The structure and formating of the `_site.yml` is important. Indentation, new lines, and so on need to be coded properly. A malformed `_site.yml` file can break your site :)\n\nClick below if you would like to see the current version of the `_site.yml` file for our course web site. Compare this to the default `_site.yml` file above. You can also access the file [here](https://github.com/stri-mcgill-neo/2024/blob/main/_site.yml).\n\n```{r}\n#| code-fold: true\nname: \"web\"\ntitle: \".Rmd Fieldguide\"\ndescription: |\n  R Markdown Tutorials\noutput_dir: \"public_build\"\nbase_url: https://stri-mcgill-neo.github.io/2024/\nfavicon: files/favicon_io/favicon.ico\ncollections:\n  posts:\n    categories: true\n    categories_metadata: true\n    authors_metadata: false\n    feed_items_max: 20 # default\n    citations: false\ncreative_commons: CC BY-SA\nexclude: [\"public\", \"README.html\", \"README.md\", \"page_build\", \"public_build\", \"sandbox\"]\nnavbar:\n  source_url: true\n  right:\n    - icon: fa-home\n      href: index.html\n    - text: \"Resources\"\n      menu:\n        - text: \"Distill homepage\"\n          href: https://rstudio.github.io/distill/\n    - icon: fa-github fa-lg\n      href: https://github.com/stri-mcgill-neo/2024\n    - icon: fa fa-rss\n      href: sitemap.xml\noutput:\n  distill::distill_article:\n    includes:\n      in_header: giscus.html\n    highlight_downlit: true\n    highlight: haddock\n    css: assets/css/styles.css\n    toc: true\n    toc_depth: 2\n    toc_float: true\ncompare_updates_url: https://github.com/stri-mcgill-neo/2024/compare/pubv1...master\nrss:\n  full_content: TRUE\n```\n\n## .Rmd files\n\nEach of the `.Rmd` files generated by Distill contain their own YAML metadata in what's called a YAML header, contained within a *code fence* of three dashes (`---`). Any changes you make to the YAML header of a page **overrides** the global settings in `_site.yml`. At a minimum, a page must contain at least a nonempty \\<title\\> element in the YAML header. Everything else is optional. So if you set the global option `toc: true` but you do not want a TOC on your About page, you would simply set `toc: false` in the page's YAML header. The two `.Rmd` files also contain a small code chunk containing R code (in a *code fence* of three back ticks, ` ``` `). \n\nHere is what the `index.Rmd` file (I added the ## comments to point out the YAML header and code chunk). The `about.Rmd` file is basically the same. \n\n\n```{verbatim}\n## YAML header\n---\ntitle: \"My Website\"\ndescription: |\n  Welcome to the website. I hope you enjoy it!\nsite: distill::distill_website\n---\n\n## R Code chunk\n```{r}\n#| label: setup\n#| include: false\nknitr::opts_chunk$set(echo = FALSE)\n\n# Learn more about creating websites with Distill at:\n# https://rstudio.github.io/distill/website.html\n```\n\n# How to Render R Markdown\n\nWhether we are working with a single file or an entire website, R Markdown files need to be translated into a more readable product. This process is called **rendering**-----where the input file(s) are transformed to a specified output format, like HTML. \n\n```{r}\n#| eval: true\n#| echo: false\n#| out-width: 0%\n\nknitr::include_graphics(\"files/flow.png\")\n```\n\n<!-- Image Map Generated by https://imagemapper.pageballoon.com/ -->\n\n<div>\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 137\">\n  <image width=\"700\" height=\"137\" xlink:href=\"files/flow.png\"></image> <a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/CSS\" target=\"_blank\" alt=\"CSS\" title=\"CSS\">\n    <rect x=\"642\" y=\"22\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/HTML\" target=\"_blank\" alt=\"HTML5\" title=\"HTML5\">\n    <rect x=\"587\" y=\"22\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript\" target=\"_blank\" alt=\"JS\" title=\"JS\">\n    <rect x=\"616\" y=\"80\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://www.markdownguide.org/\" target=\"_blank\" alt=\"Markdown\" title=\"Markdown\">\n    <rect x=\"12\" y=\"82\" fill=\"#fff\" opacity=\"0\" width=\"91\" height=\"55\"></rect>\n  </a><a xlink:href=\"https://www.markdownguide.org/\" target=\"_blank\" alt=\"Markdown\" title=\"Markdown\">\n    <rect x=\"340\" y=\"45\" fill=\"#fff\" opacity=\"0\" width=\"87\" height=\"54\"></rect>\n  </a><a xlink:href=\"https://quarto.org\" target=\"_blank\" alt=\"Quarto\" title=\"Quarto\">\n    <rect x=\"155\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"60\" height=\"70\"></rect>\n  </a><a xlink:href=\"https://yihui.org/knitr/\" target=\"_blank\" alt=\"knitr\" title=\"knitr\">\n    <rect x=\"243\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"64\" height=\"69\"></rect>\n  </a><a xlink:href=\"https://www.r-project.org/about.html\" target=\"_blank\" alt=\"R\" title=\"R\">\n    <rect x=\"30\" y=\"4\" fill=\"#fff\" opacity=\"0\" width=\"68\" height=\"53\"></rect>\n  </a><a xlink:href=\"https://pandoc.org/\" target=\"_blank\" alt=\"PanDoc\" title=\"PanDoc\">\n    <rect x=\"459\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"98\" height=\"67\"></rect>\n  </a>\n</svg>\n<figcaption>\nThe rendering process---creating web pages from R Markdown documents (R code plus Markdown). EXTENDED FUNCTION. This is an image map---an HTML technique that allows you to create clickable areas on an image. I coded this so that each logo contains a different hyperlink. Try it out. <a href = \"https://gist.github.com/jarrodscott/7c16b36b6a79e5398f22379999ed80ef\">Click here </a> if you are interested in the source code.\n</figcaption>\n</div>\n\n</br>\n\nBasically, we begin with an R Markdown document that contains code and Markdown formatted text. When you render the R Markdown document a program called [`knitr`]((https://yihui.org/knitr/)) **executes all the R code**, knits the results together with any [Markdown](https://www.markdownguide.org/) text, and creates a new Markdown document. The new Markdown document is then processed by [PanDoc](https://pandoc.org/), which converts the Markdown syntax into [HTML and CSS](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5) code. PanDoc is like a *swiss-army knife* for Markdown-----it can covert many types of Markdown documents into a variety of other formats. Don't worry, all of these steps happen behind the scenes. As long as you have a properly formatted R Markdown document---**including the YAML header**---these tools will take care of the rest.\n\nA site like this one is simply a collections of R Markdown documents that are rendered into a website where each `.Rmd` file becomes a page of the site.\n\n## Written recipe\n\nWhen you are ready, you have two primary options for building or rendering---you can either render an individual page or the entire site. Let's go through each option in turn. Scroll down for a graphical representation of both options. \n\n<aside>\nI will use the terms **building**, **rendering**, and **knitting** interchangeably since they effectively mean the same thing. \n</aside>\n\nThere are several ways to **render an individual page**:\n\n> Note. The page or document you wish to render must be open and selected.  \n\n1\\. On the top menu bar find **File** and select **Knit Document**.  \n2\\. Find the **Console** tab and run the command `rmarkdown::render_site(\"index.Rmd\")`.    \n3\\. In the window of the document you wish to render, find the **Knit** button and click it.   \n4\\. Use the shortcut key sequence.  \n\n-   On a Mac `command`+`shift`+`K` **or** `r knitr::asis_output(\"&#8984;\")`+`r knitr::asis_output(\"&#8679;\")`+`K`.   \n-   On a Windows/Linux (I think) `ctrl`+`shift`+`K` **or** `r knitr::asis_output(\"&#8963;\")`+`r knitr::asis_output(\"&#8679;\")`+ `K`.  \n\n5\\. You also have the option of selecting `Knit on Save` so every time you save the document it is automatically rendered. For now I advise against doing this since it takes control out of your hands.    \n\nThere are several ways to **render an entire site**:\n\n1\\. Find the **Build** tab and hit the ‚õè**Build Website**  button.   \n2\\. On the top menu bar find **Build** and select **Build All**.  \n3\\. Find the **Console** tab and run the command `rmarkdown::render_site()`.    \n4\\. Use the shortcut key sequence.  \n\n-   On a Mac `command`+`shift`+`B` **or** `r knitr::asis_output(\"&#8984;\")`+`r knitr::asis_output(\"&#8679;\")`+`B`.   \n-   On a Windows/Linux (I think) `ctrl`+`shift`+`B` **or** `r knitr::asis_output(\"&#8963;\")`+`r knitr::asis_output(\"&#8679;\")`+ `B`.\n\n------------------------------------------------------------------------\n\n## Visual recipe\n\n```{r}\n#| eval: true\n#| echo: false\ntmp_list <- list.files(\"files/\", pattern = \"render_\")\ntmp_list <- tmp_list %>% stringr::str_replace(\".png\", \"\")\n\ntest <- tidyr::as_tibble(tmp_list)\ntest$path <- test$value\n\ntest$path <- gsub(\"^\", \"files/\", test$path)\ntest$path <- gsub(\"$\", \".png\", test$path)\ntest$info <- \"\"\n## To add random text for captions\n#for (i in 1:nrow(test)) {\n#  test$info[i] <- stringi::stri_rand_lipsum(1, start_lipsum = FALSE)\n#  test$info[i] <- stringr::str_sub(test$info[i], start = 1, end = 400)\n#}\n#stringi::stri_rand_strings(10, 4, pattern = \"[A-Za-z0-9]\")\n```\n\n```{r}\n#| eval: true\n#| echo: false\n\ntest$info[1] <- \"Render a single page: 1) On the top menu bar find <File> and select <Knit Document>.  2) Find the <Console> tab and run the command rmarkdown::render_site('index.Rmd'). 3) In the window of the document you wish to render, find the <Knit> button and click it. 4) Use the shortcut key sequence.\"\ntest$info[2] <- \"Render an entire site: 1) Find the <Build> tab and hit the ‚õè<Build Website> button. 2) On the top menu bar find <Build> and select <Build All>. 3) Find the <Console> tab and run the command rmarkdown::render_site(). 4) Use the shortcut key sequence.  \"\n```\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-height: 6\n\n(slickR(obj = test$path, height = 400, width = \"90%\", objLinks = NULL) + \n  slickR::settings(focusOnSelect = TRUE)) %synch%  \n  (slickR(obj = test$info, slideType = 'p') + \n     slickR::settings(arrows = FALSE, adaptiveHeight = FALSE, dots = TRUE)\n   )\n#for(file in test$path) {\n#  file.copy(file, \"../../../public_build/docs/lessons/lesson-3-build-a-basic-site/files/\")\n#}\n```\n\n------------------------------------------------------------------------\n\n# Assignments\n\nNow that you are a whiz at building and rendering, please go through the following exercises.  \n\n### [{{< fa book-open >}}]{style=\"color: steelblue;\"} Assignment\n\nYour first task is to remember this phase: \n\n> **Knit often**. Or if you prefer, **Render often**.\n\nI cannot stress this enough. Whenever you make a change to the YAML header, add a new code chunk, etc., re-knit (or render) your document. **This is very important**. Regular knitting allows you to **a**) see the effects of a change and **b**) track down (troubleshoot) issues more easily. For some documents, this is not practical. For example, if you have an analysis that takes forever to run, knitting every time you make a small change would be wacky. There are ways dealing with issues like this, which we will get to. For now, **Knit often**.\n\nAfter a successful render, always look at the updated HTML page to make sure it looks the way you want it to.\n\n### Change & render a single page\n\n1\\. OK, go ahead and quit RStudio. Now, in the directory Distill created when it built the dummy site, find the file with the `.Rproj` extension. Double click to open. \n\n2\\. OK, change the title and description in the YAML header of the `index.Rmd` file. If the file does not open automatically when you start the project, you can either load it from `Files` tab within the IDE or by going to `File` in the menu bar at the top, selecting `Open File`, and selecting the `index.Rmd`. **Render** the **individual page** using the instructions above and look at the resulting HTML file. Now write a small paragraph in plain text below the code block. Re-knit the page. \n\n3\\. Sweet. Below your text block, add the following code chunk. Re-knit the page. Success? \n\n```{r}\n#| echo: fenced\nlibrary(ggplot2)\ndata(cars)\nqplot(speed, dist, data = cars) + geom_smooth()\n```\n\nIf you get an error in the `Render` tab or your page fails to render, first copy the error message, then paste it somewhere in the main body of the `index.Rmd` file, and erase the code chunk you added. Re-knit the page. R error messages can be a bit cryptic. See if you can determine what the problem is. \n\n### Change & render the entire site\n\n4\\. Go into the `_site.yml` file and change the title of the website. Save the file, render the **entire site** using the instructions above, and look at the updated HTML page.  \n\n5\\. Find the part in the file where the `navbar` starts. Add another item to the navbar following the formatting exactly. Save the file, render the **entire site**, and look at the updated HTML page.  \n\n### Build a Distill blog\n\n6\\. Go back to the section on [building a distill website](#build-a-distill-website) and build a blog instead. Make sure to give it a different name ;) Now compare the default output of the two site types. \n\nThat's all for now. Coming up next we will go through Markdown syntax, incorporating R code, building tables, and creating figure. Thanks for stopping by. \n\n##  Source Code {.appendix}\n\nThe source code for this page can be accessed on GitHub {{< fa brands github size=l >}} by [clicking this link](`r source_code()`). \n\n","srcMarkdownNoYaml":"\n\n```{r}\n#| label: load\n#| eval: true\n#| echo: false\n\nis_html = knitr::is_html_output()\npacman::p_load(tidyverse, fontawesome, slickR, downlit, here,\n               install = FALSE, update = FALSE)\n\nhere::i_am(\"assets/scripts/functions.R\")\nsource(here(\"assets/scripts/functions.R\"))\n```\n\n# Learning Objectives\n\nIn this lesson, you will create your first site. Remember, you have the choice of a [Distill website](https://rstudio.github.io/distill/website.html) or a [Distill blog](https://rstudio.github.io/distill/blog.html). Since the structure of a Distill website is a bit simpler we will start there. This lesson is designed to lay down the conceptual and mechanical framework you need to get started. Your job is to understand this material because it is the basis for everything that comes after. If you do not understand something, please ask. Chances are pretty good that you are not alone.\n\n::: aside\nEstimated reading time: `r round(reading_time(), digits = 0)` minute(s).\n:::\n\n> If you have not already done so, please read the short post on [Naming Things](../2024-04-21-naming-things/index.html) in the Tip n' Tricks section before getting started.\n\n# Three Core Languages\n\nThe three core technologies, or building blocks, of web pages are HTML, CSS, and JS. Let's briefly discuss each to get a better idea of what they do. Do not worry---you are not required to write code in HTML, CSS, or JS but even a basic understanding of these languages will allow you to perform more advanced customization of your site. Let's look at a little toy exercise to demonstrate the functionality of each language. How about we create a level 3 header and a button.\n\n## HTML\n\nHTML, or [**H**yper **T**ext **M**arkup **L**anguage](https://developer.mozilla.org/en-US/docs/Web/HTML) provides the **basic type, format, structure, and makeup** of a web page or site. It is the standard markup language^[Markup language is a computer language that uses tags to define elements within a document. It is human-readable, meaning markup files contain standard words, rather than typical programming syntax.] for documents displayed in web browsers. HTML lets you structure a page into elements---paragraphs, sections, headings, navigation bars, and so on. HTML elements are delineated by *tags*, written using angle brackets. To display the level 2 header and button we code it like so:\n\n```{verbatim}\n<h2>The Button element</h2>\n<button type=\"button\">Click Me, I'm a button!</button>\n```\n\nAnd here is what it looks like on our pretend page after the code is rendered. Neat.\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 style=\"font-family:Times;\">The Button Element</h2>\n<button type=\"button\">Click Me, I'm a button!</button>\n</span>\n</div>\n\n## CSS\n\nCSS, or [**C**ascading **S**tyle **S**heets](https://developer.mozilla.org/en-US/docs/Web/CSS), is a style sheet language ^[A style sheet language is a computer language that expresses the presentation of structured documents.] used to **control presentation, formatting, and layout** of a document written in a markup language, like HTML. . Now let's say we wanted to *style* the header and button elements created above. OK, how about we modify the header to be center aligned, uppercase, and blue. While we're at it, we can also change the look of the button. How about we make the button blue and rounded, set the font larger and white, and increase the left margin and padding.\n\nTo accomplish this, we add the following code to our stylesheet ^[There are three ways you implement CSS into your HTML: internal, external, and inline styles. Internal or embedded CSS requires you to add \\<style\\> tag in the \\<head\\> section of your HTML document. With external CSS, you'll link your web pages to an external `.css` file, which can be created by any text editor in your device. Inline CSS is used to style a specific HTML element. For this CSS style, you'll only need to add the style attribute to each HTML tag, without using selectors. I mainly use an external CSS for styling. For example, here is the [CSS file for our site](https://github.com/stri-mcgill-neo/2024/blob/main/assets/css/styles.css)]:\n\n\n```{css}\nh2 {\n  text-align: center;\n  text-transform: uppercase;\n  color: #004276;\n  font-family: 'Open Sans';\n}\n\nbutton {\n  color: #FFFFFF;\n  background-color: #004276;\n  font-size: 1.1em; \n  margin-left: 2em;\n  padding: 0.5em;\n  border-radius: 30px;\n}\n```\n\nAnd now we get CSS-styled header and button. Again, neat but the button still doesn't do anything useful.\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 style=\"text-align:center;text-transform:uppercase;color:#004276;font-family:Open Sans;\">\nThe Button Element\n</h2>\n<button type=\"button\" style=\"color:#FFFFFF;background-color:#004276;font-size: 1.1em;margin-left:2em;padding:0.5em;border-radius: 30px;\">\nClick Me, I'm a button!\n</button>\n</span>\n</div>\n\n</br>\n\nNow that we have a styled button, let's see if we can get it to do something useful. For this we can use a little JavaScript in our code.\n\n## JS\n\nJS, or [**J**ava**S**cript](https://developer.mozilla.org/en-US/docs/Web/JavaScript), is a programming language used to **control the behavior of different elements**. JS is used to for interactive web applications---powering features like interactive images, carousels, and forms. What if we wanted to create a button that did something useful when we clicked it? Perhaps displaying the date and time would be nice? Returning to our original HTML, we add the `onclick` option and a JS function that gets the current date and time.\n\n```{verbatim}\n<!-- Original Code -->\n<button type=\"button\">Click Me, I'm a button!</button>\n```\n\n...to this.\n\n```{verbatim}\n<!-- Modified with JS function -->\n<button type=\"button\" onclick=\"document.getElementById('demo').innerHTML = Date()\"></button>\n```\n\n<div class=\"warning\" style='padding:0.1em; background-color:#f5f5f5; color:#414141;border: 1px solid #B7B7B7;'>\n<span>\n<h2 onclick=\"myFunction(this, 'red')\" style='text-align:center;text-transform:uppercase;color:#004276;font-family:Open Sans;'>The Button Element</h2>\n<button type=\"button\" \nstyle=\"color:#FFFFFF;background-color:#004276;font-size: 1.1em;margin-left:2em;padding:0.5em;border-radius: 30px;\" \nonclick=\"getElementById('demo').innerHTML = Date()\">Click to display Date and Time.</button>\n<p id=\"demo\"></p>\n</span>\n</div>\n    \n</br>\n\nSo that's it in a nutshell. We began with a basic header and button coded in HTML, then styled both elements using CSS, and finally added some interactive functionality with JS. The beauty of writing your documents in (R) Markdown and using a framework like Distill is that a lot of this coding is already done for you. As you will learn, the Markdown text and code you write is translated into HTML. Frameworks like Distill offer pre-packaged HTML templates, the content of which is styled with [built-in CSS](https://rstudio.github.io/distill/website.html#theming). Distill also provides a [variety of ways](https://rstudio.github.io/distill/interactivity.html) to add interactive JavaScript visualizations to your pages, including pre-built [htmlwidgets](http://www.htmlwidgets.org/) that wrap JavaScript visualization libraries like [Leaflet](http://rstudio.github.io/leaflet/), [Plotly](https://plot.ly/r/), [dygraphs](http://rstudio.github.io/dygraphs/), [r2D3](https://rstudio.github.io/r2d3/), and [threejs](https://bwlewis.github.io/rthreejs/). I know I sound like a broken record, but we will cover topics like theming and interactive graphics in subsequent lessons.\n\n### [{{< fa book-open >}}]{style=\"color: steelblue;\"}  Further Reading\n\nIf you are interested in developing your HTML and CSS skills I highly recommend [Interneting is hard (But it doesn't have to be)](https://www.internetingishard.com/), a comprehensive HTML/CSS curriculum created by Oliver James.\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-align: center\n#| fig-link: https://www.internetingishard.com/\nknitr::include_graphics(\"files/internetingishard.png\")\n```\n\nI have not really learned how to code in JS yet, so I cannot really suggest any tutorials/courses but for some inspiration, check out the awesome interactive graphics in the [htmlwidgets R gallery](http://gallery.htmlwidgets.org/).\n\n# Build a Distill Website\n\nLet's go through a quick demo on creating a Distill website. Here we go through the process step-by-step. If you prefer a graphical representation instead, scroll down a little to see images of this process.\n\n## Written recipe\n\n-   **Step 1**: Open RStudio and go to the `File` menu and select `New Project`. A window called `New Project Wizard` will pop up. Select `New Directory`.\n-   **Step 2**: Under `Project Type` scroll down until you see `Distill Website`. Hit the arrow on the right.\n-   **Step 3**: Fill in the part that says `Directory Name`. In this example I simply call it `distill_website.` Also, under `Create project as subdirectory of:` select a path to write the project. You can ignore the rest for now.\n-   **Step 4**: Boom! Site created. You should see three files in your RStudio IDE---`index.Rmd`, `about.Rmd`, and `_site.yml`. We will go through the details in a minute, but in a nutshell:\n\n| **File type** | **Description**             |\n|---------------|-----------------------------|\n| `_site.yml`   | Website configuration file. |\n| `index.Rmd`   | Website home page.          |\n| `about.Rmd`   | Website about page.         |\n\n: Files created by Distill that should show up in the RStudio IDE.\n\n-   **Step 5**: Navigate to your project directory. Notice that in addition to the three files we saw in Step 4 there is also a `_site/` directory and a `.Rproj` file^[This file contains various project options and can also be used as a shortcut for opening the project directly from the filesystem.]. Open the `_site/` directory and double-click `index.html` to open. This is your new homepage.\n\n------------------------------------------------------------------------\n\n## Visual recipe\n\nThe same steps described above---in graphical format ^[This image carousel was created using the [slickR](https://github.com/yonicd/slickR) package. slickR is a great option for displaying graphics like figures and images. We will cover slickR in a future lesson.].\n\n```{r}\n#| eval: true\n#| echo: false\n\nlibrary(magrittr)\ntmp_list <- list.files(\"files/\", pattern = \"step_\")\ntmp_list <- tmp_list %>% stringr::str_replace(\".png\", \"\")\n\ntest <- tidyr::as_tibble(tmp_list)\ntest$path <- test$value\n\ntest$path <- gsub(\"^\", \"files/\", test$path)\ntest$path <- gsub(\"$\", \".png\", test$path)\ntest$info <- \"\"\n## To add random text for captions\n#for (i in 1:nrow(test)) {\n#  test$info[i] <- stringi::stri_rand_lipsum(1, start_lipsum = FALSE)\n#  test$info[i] <- stringr::str_sub(test$info[i], start = 1, end = 400)\n#}\n#stringi::stri_rand_strings(10, 4, pattern = \"[A-Za-z0-9]\")\n\n```\n\n```{r}\n#| eval: true\n#| echo: false\ntest$info[1] <- \"Step 1: Open RStudio and go to the File menu and select New Project. A window called New Project Wizard will pop up. Select New Directory. Proceed to Step 2.\"\ntest$info[2] <- \"Step 2: Under Project Type scroll down until you see Distill Website. Hit the arrow on the right. Proceed to Step 3.\"\ntest$info[3] <- \"Step 3: Fill in the part that says Directory Name. In this example I simply call it distill_website. Also, under Create project as subdirectory of: select a path to write the project. You can ignore the rest for now. Proceed to Step 4.\"\ntest$info[4] <- \"Step 4: Boom! Site created. You should see three files in your RStudio IDE---index.Rmd, about.Rmd, and _site.yml. We will go through each of these in a minute. For now proceed to Step 5.\"\ntest$info[5] <- \"Step 5: Navigate to your project directory. Notice that in addition to the three files we saw in Step 4 there is also a _site/ directory and a .Rproj file. Open the _site/ and double-click index.html to open. Here is your new homepage.\"\n```\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-height: 6\nrequire(slickR)\n(slickR(obj = test$path, height = 500, width = \"90%\", objLinks = NULL) + \n  slickR::settings(focusOnSelect = TRUE)) %synch% \n  (slickR(test$info, slideType = 'p') + \n     slickR::settings(arrows = FALSE, adaptiveHeight = FALSE, dots = TRUE)\n   )\n\n#for(carimage in test$path) {\n#  file.copy(carimage, \"../../../public_build/docs/lessons/lesson-3-build-a-basic-site/files/\")\n#}\n```\n\n------------------------------------------------------------------------\n\nSo this site would have two pages---the landing page (`index.Rmd`) and a sub page called About (`about.Rmd`). Let's say the root URL for this site is `https://example.io/`. If you were to navigate to this URL you would see the content of `index.Rmd`, the homepage. To access the About page you would need to go to `https://example.io/about.html`. Notice the homepage does not require any special extension but any sub pages do, like `.../about.html`.\n\n# A Closer Look\n\nNow that we have a basic Distill site, let's take a closer look at the primary files generated when we created the site. All R Markdown websites, at a minimum, **must** have: \n\n-    a file called `_site.yml`, which provides the global YAML^[YAML is a human-readable markup language. With it, you can create easily readable documents that can be consumed by a variety of programming languages.] header for the site.  \n-    a `.Rmd` file named `index.Rmd`, which provides the content for the home page of the website.\n\nOther things, like `about.Rmd` or custom CSS or whatever, are optional.\n\n## _site.yml\n\nThe `_site.yml`, written in [YAML](https://en.wikipedia.org/wiki/YAML), instructs the R Markdown site generator (in this case Distill) how to build the site---it contains default **metadata that is applied to all `.Rmd` files**  on the site. These metadata include the base URL and title, the position and content of the navigation bar, controls for the table of contents, etc. In the site you just created, the YAML file should look like this.\n\n```{verbatim}\n---\nname: \"distill_website\"\ntitle: \"My Website\"\ndescription: |\n  My Website\noutput_dir: \"_site\"\nnavbar:\n  right:\n    - text: \"Home\"\n      href: index.html\n    - text: \"About\"\n      href: about.html\noutput: distill::distill_article\n---\n```\n\nIf for example, you want to add a table of contents to every page on your site, you can just add the `toc` option to `_site.yml`, which will apply this option globally. YAML files are quite customizable but some settings are document and/or framework specific so you need to play around with the options if you want to change something. To see some of the options you can run the following in the Console of RStudio.\n\n```{r}\n#| echo: true\n?rmarkdown::html_document\n```\n\n> The structure and formating of the `_site.yml` is important. Indentation, new lines, and so on need to be coded properly. A malformed `_site.yml` file can break your site :)\n\nClick below if you would like to see the current version of the `_site.yml` file for our course web site. Compare this to the default `_site.yml` file above. You can also access the file [here](https://github.com/stri-mcgill-neo/2024/blob/main/_site.yml).\n\n```{r}\n#| code-fold: true\nname: \"web\"\ntitle: \".Rmd Fieldguide\"\ndescription: |\n  R Markdown Tutorials\noutput_dir: \"public_build\"\nbase_url: https://stri-mcgill-neo.github.io/2024/\nfavicon: files/favicon_io/favicon.ico\ncollections:\n  posts:\n    categories: true\n    categories_metadata: true\n    authors_metadata: false\n    feed_items_max: 20 # default\n    citations: false\ncreative_commons: CC BY-SA\nexclude: [\"public\", \"README.html\", \"README.md\", \"page_build\", \"public_build\", \"sandbox\"]\nnavbar:\n  source_url: true\n  right:\n    - icon: fa-home\n      href: index.html\n    - text: \"Resources\"\n      menu:\n        - text: \"Distill homepage\"\n          href: https://rstudio.github.io/distill/\n    - icon: fa-github fa-lg\n      href: https://github.com/stri-mcgill-neo/2024\n    - icon: fa fa-rss\n      href: sitemap.xml\noutput:\n  distill::distill_article:\n    includes:\n      in_header: giscus.html\n    highlight_downlit: true\n    highlight: haddock\n    css: assets/css/styles.css\n    toc: true\n    toc_depth: 2\n    toc_float: true\ncompare_updates_url: https://github.com/stri-mcgill-neo/2024/compare/pubv1...master\nrss:\n  full_content: TRUE\n```\n\n## .Rmd files\n\nEach of the `.Rmd` files generated by Distill contain their own YAML metadata in what's called a YAML header, contained within a *code fence* of three dashes (`---`). Any changes you make to the YAML header of a page **overrides** the global settings in `_site.yml`. At a minimum, a page must contain at least a nonempty \\<title\\> element in the YAML header. Everything else is optional. So if you set the global option `toc: true` but you do not want a TOC on your About page, you would simply set `toc: false` in the page's YAML header. The two `.Rmd` files also contain a small code chunk containing R code (in a *code fence* of three back ticks, ` ``` `). \n\nHere is what the `index.Rmd` file (I added the ## comments to point out the YAML header and code chunk). The `about.Rmd` file is basically the same. \n\n\n```{verbatim}\n## YAML header\n---\ntitle: \"My Website\"\ndescription: |\n  Welcome to the website. I hope you enjoy it!\nsite: distill::distill_website\n---\n\n## R Code chunk\n```{r}\n#| label: setup\n#| include: false\nknitr::opts_chunk$set(echo = FALSE)\n\n# Learn more about creating websites with Distill at:\n# https://rstudio.github.io/distill/website.html\n```\n\n# How to Render R Markdown\n\nWhether we are working with a single file or an entire website, R Markdown files need to be translated into a more readable product. This process is called **rendering**-----where the input file(s) are transformed to a specified output format, like HTML. \n\n```{r}\n#| eval: true\n#| echo: false\n#| out-width: 0%\n\nknitr::include_graphics(\"files/flow.png\")\n```\n\n<!-- Image Map Generated by https://imagemapper.pageballoon.com/ -->\n\n<div>\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 137\">\n  <image width=\"700\" height=\"137\" xlink:href=\"files/flow.png\"></image> <a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/CSS\" target=\"_blank\" alt=\"CSS\" title=\"CSS\">\n    <rect x=\"642\" y=\"22\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/HTML\" target=\"_blank\" alt=\"HTML5\" title=\"HTML5\">\n    <rect x=\"587\" y=\"22\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript\" target=\"_blank\" alt=\"JS\" title=\"JS\">\n    <rect x=\"616\" y=\"80\" fill=\"#fff\" opacity=\"0\" width=\"50\" height=\"50\"></rect>\n  </a><a xlink:href=\"https://www.markdownguide.org/\" target=\"_blank\" alt=\"Markdown\" title=\"Markdown\">\n    <rect x=\"12\" y=\"82\" fill=\"#fff\" opacity=\"0\" width=\"91\" height=\"55\"></rect>\n  </a><a xlink:href=\"https://www.markdownguide.org/\" target=\"_blank\" alt=\"Markdown\" title=\"Markdown\">\n    <rect x=\"340\" y=\"45\" fill=\"#fff\" opacity=\"0\" width=\"87\" height=\"54\"></rect>\n  </a><a xlink:href=\"https://quarto.org\" target=\"_blank\" alt=\"Quarto\" title=\"Quarto\">\n    <rect x=\"155\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"60\" height=\"70\"></rect>\n  </a><a xlink:href=\"https://yihui.org/knitr/\" target=\"_blank\" alt=\"knitr\" title=\"knitr\">\n    <rect x=\"243\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"64\" height=\"69\"></rect>\n  </a><a xlink:href=\"https://www.r-project.org/about.html\" target=\"_blank\" alt=\"R\" title=\"R\">\n    <rect x=\"30\" y=\"4\" fill=\"#fff\" opacity=\"0\" width=\"68\" height=\"53\"></rect>\n  </a><a xlink:href=\"https://pandoc.org/\" target=\"_blank\" alt=\"PanDoc\" title=\"PanDoc\">\n    <rect x=\"459\" y=\"37\" fill=\"#fff\" opacity=\"0\" width=\"98\" height=\"67\"></rect>\n  </a>\n</svg>\n<figcaption>\nThe rendering process---creating web pages from R Markdown documents (R code plus Markdown). EXTENDED FUNCTION. This is an image map---an HTML technique that allows you to create clickable areas on an image. I coded this so that each logo contains a different hyperlink. Try it out. <a href = \"https://gist.github.com/jarrodscott/7c16b36b6a79e5398f22379999ed80ef\">Click here </a> if you are interested in the source code.\n</figcaption>\n</div>\n\n</br>\n\nBasically, we begin with an R Markdown document that contains code and Markdown formatted text. When you render the R Markdown document a program called [`knitr`]((https://yihui.org/knitr/)) **executes all the R code**, knits the results together with any [Markdown](https://www.markdownguide.org/) text, and creates a new Markdown document. The new Markdown document is then processed by [PanDoc](https://pandoc.org/), which converts the Markdown syntax into [HTML and CSS](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5) code. PanDoc is like a *swiss-army knife* for Markdown-----it can covert many types of Markdown documents into a variety of other formats. Don't worry, all of these steps happen behind the scenes. As long as you have a properly formatted R Markdown document---**including the YAML header**---these tools will take care of the rest.\n\nA site like this one is simply a collections of R Markdown documents that are rendered into a website where each `.Rmd` file becomes a page of the site.\n\n## Written recipe\n\nWhen you are ready, you have two primary options for building or rendering---you can either render an individual page or the entire site. Let's go through each option in turn. Scroll down for a graphical representation of both options. \n\n<aside>\nI will use the terms **building**, **rendering**, and **knitting** interchangeably since they effectively mean the same thing. \n</aside>\n\nThere are several ways to **render an individual page**:\n\n> Note. The page or document you wish to render must be open and selected.  \n\n1\\. On the top menu bar find **File** and select **Knit Document**.  \n2\\. Find the **Console** tab and run the command `rmarkdown::render_site(\"index.Rmd\")`.    \n3\\. In the window of the document you wish to render, find the **Knit** button and click it.   \n4\\. Use the shortcut key sequence.  \n\n-   On a Mac `command`+`shift`+`K` **or** `r knitr::asis_output(\"&#8984;\")`+`r knitr::asis_output(\"&#8679;\")`+`K`.   \n-   On a Windows/Linux (I think) `ctrl`+`shift`+`K` **or** `r knitr::asis_output(\"&#8963;\")`+`r knitr::asis_output(\"&#8679;\")`+ `K`.  \n\n5\\. You also have the option of selecting `Knit on Save` so every time you save the document it is automatically rendered. For now I advise against doing this since it takes control out of your hands.    \n\nThere are several ways to **render an entire site**:\n\n1\\. Find the **Build** tab and hit the ‚õè**Build Website**  button.   \n2\\. On the top menu bar find **Build** and select **Build All**.  \n3\\. Find the **Console** tab and run the command `rmarkdown::render_site()`.    \n4\\. Use the shortcut key sequence.  \n\n-   On a Mac `command`+`shift`+`B` **or** `r knitr::asis_output(\"&#8984;\")`+`r knitr::asis_output(\"&#8679;\")`+`B`.   \n-   On a Windows/Linux (I think) `ctrl`+`shift`+`B` **or** `r knitr::asis_output(\"&#8963;\")`+`r knitr::asis_output(\"&#8679;\")`+ `B`.\n\n------------------------------------------------------------------------\n\n## Visual recipe\n\n```{r}\n#| eval: true\n#| echo: false\ntmp_list <- list.files(\"files/\", pattern = \"render_\")\ntmp_list <- tmp_list %>% stringr::str_replace(\".png\", \"\")\n\ntest <- tidyr::as_tibble(tmp_list)\ntest$path <- test$value\n\ntest$path <- gsub(\"^\", \"files/\", test$path)\ntest$path <- gsub(\"$\", \".png\", test$path)\ntest$info <- \"\"\n## To add random text for captions\n#for (i in 1:nrow(test)) {\n#  test$info[i] <- stringi::stri_rand_lipsum(1, start_lipsum = FALSE)\n#  test$info[i] <- stringr::str_sub(test$info[i], start = 1, end = 400)\n#}\n#stringi::stri_rand_strings(10, 4, pattern = \"[A-Za-z0-9]\")\n```\n\n```{r}\n#| eval: true\n#| echo: false\n\ntest$info[1] <- \"Render a single page: 1) On the top menu bar find <File> and select <Knit Document>.  2) Find the <Console> tab and run the command rmarkdown::render_site('index.Rmd'). 3) In the window of the document you wish to render, find the <Knit> button and click it. 4) Use the shortcut key sequence.\"\ntest$info[2] <- \"Render an entire site: 1) Find the <Build> tab and hit the ‚õè<Build Website> button. 2) On the top menu bar find <Build> and select <Build All>. 3) Find the <Console> tab and run the command rmarkdown::render_site(). 4) Use the shortcut key sequence.  \"\n```\n\n```{r}\n#| eval: true\n#| echo: false\n#| fig-height: 6\n\n(slickR(obj = test$path, height = 400, width = \"90%\", objLinks = NULL) + \n  slickR::settings(focusOnSelect = TRUE)) %synch%  \n  (slickR(obj = test$info, slideType = 'p') + \n     slickR::settings(arrows = FALSE, adaptiveHeight = FALSE, dots = TRUE)\n   )\n#for(file in test$path) {\n#  file.copy(file, \"../../../public_build/docs/lessons/lesson-3-build-a-basic-site/files/\")\n#}\n```\n\n------------------------------------------------------------------------\n\n# Assignments\n\nNow that you are a whiz at building and rendering, please go through the following exercises.  \n\n### [{{< fa book-open >}}]{style=\"color: steelblue;\"} Assignment\n\nYour first task is to remember this phase: \n\n> **Knit often**. Or if you prefer, **Render often**.\n\nI cannot stress this enough. Whenever you make a change to the YAML header, add a new code chunk, etc., re-knit (or render) your document. **This is very important**. Regular knitting allows you to **a**) see the effects of a change and **b**) track down (troubleshoot) issues more easily. For some documents, this is not practical. For example, if you have an analysis that takes forever to run, knitting every time you make a small change would be wacky. There are ways dealing with issues like this, which we will get to. For now, **Knit often**.\n\nAfter a successful render, always look at the updated HTML page to make sure it looks the way you want it to.\n\n### Change & render a single page\n\n1\\. OK, go ahead and quit RStudio. Now, in the directory Distill created when it built the dummy site, find the file with the `.Rproj` extension. Double click to open. \n\n2\\. OK, change the title and description in the YAML header of the `index.Rmd` file. If the file does not open automatically when you start the project, you can either load it from `Files` tab within the IDE or by going to `File` in the menu bar at the top, selecting `Open File`, and selecting the `index.Rmd`. **Render** the **individual page** using the instructions above and look at the resulting HTML file. Now write a small paragraph in plain text below the code block. Re-knit the page. \n\n3\\. Sweet. Below your text block, add the following code chunk. Re-knit the page. Success? \n\n```{r}\n#| echo: fenced\nlibrary(ggplot2)\ndata(cars)\nqplot(speed, dist, data = cars) + geom_smooth()\n```\n\nIf you get an error in the `Render` tab or your page fails to render, first copy the error message, then paste it somewhere in the main body of the `index.Rmd` file, and erase the code chunk you added. Re-knit the page. R error messages can be a bit cryptic. See if you can determine what the problem is. \n\n### Change & render the entire site\n\n4\\. Go into the `_site.yml` file and change the title of the website. Save the file, render the **entire site** using the instructions above, and look at the updated HTML page.  \n\n5\\. Find the part in the file where the `navbar` starts. Add another item to the navbar following the formatting exactly. Save the file, render the **entire site**, and look at the updated HTML page.  \n\n### Build a Distill blog\n\n6\\. Go back to the section on [building a distill website](#build-a-distill-website) and build a blog instead. Make sure to give it a different name ;) Now compare the default output of the two site types. \n\nThat's all for now. Coming up next we will go through Markdown syntax, incorporating R code, building tables, and creating figure. Thanks for stopping by. \n\n##  Source Code {.appendix}\n\nThe source code for this page can be accessed on GitHub {{< fa brands github size=l >}} by [clicking this link](`r source_code()`). \n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"wrap","code-link":true,"code-line-numbers":false,"code-tools":{"source":false,"toggle":false,"caption":"none"},"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","self-contained":false,"css":["../../../assets/css/styles.css"],"toc":true,"toc-depth":3,"filters":["lightbox"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","bibliography":["../../../assets/cite.bib"],"citations-hover":true,"footnotes-hover":true,"smooth-scroll":false,"theme":{"light":"cosmo"},"toc-location":"left","toc-title":"Contents","code-copy":true,"grid":{"sidebar-width":"250px","body-width":"900px","margin-width":"200px"},"appendix-style":"default","title-block-banner":true,"title-block-style":"default","title":"Lesson 3: Build  üìñ a Basic Site","author":"Jarrod J Scott","description":"In this lesson we go through the steps for creating your first site. We cover the three building blocks of the web (HTML, CSS, JS), generate a basic site with Distill, and discuss the rendering process.\n","date":"2024-01-03","categories":["news","code","analysis"],"image":"files/feature.png","repository_url":"https://github.com/stri-mcgill-neo/2024/","reading-time":true,"knitr":{"opts_chunk":{"echo":true,"eval":false,"message":false,"warning":false}},"lightbox":{"match":"auto","effect":"fade","desc-position":"right","loop":false},"draft":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}